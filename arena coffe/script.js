// ===== MULTILINGUAL SUPPORT =====
const translations = {
    en: {
        // Navigation
        nav_home: "Home",
        nav_products: "Products",
        nav_boutique: "Boutique",
        nav_gallery: "Gallery",
        nav_about: "About",
        nav_testimonials: "Reviews",
        nav_contact: "Contact",
        
        // Boutique Products - Reorganized Pricing
        boutique_title: "Boutique Collection",
        boutique_subtitle: "Premium specialty products and teas",
        
        // Tea Products (30-40 MAD)
        tea_naca_a: "شاي الناقة Type A",
        tea_naca_a_desc: "Traditional Moroccan camel tea - Basic blend",
        tea_naca_b: "شاي الناقة Type B", 
        tea_naca_b_desc: "Traditional Moroccan camel tea - Premium blend",
        tea_lakram_classic: "شاي لكرم Classic",
        tea_lakram_classic_desc: "Lakram tea classic blend with aromatic spices",
        tea_lakram_premium: "شاي لكرم Premium",
        tea_lakram_premium_desc: "Lakram tea premium blend with exotic ingredients",
        
        // Black Asta Capsules (40-50 MAD)
        black_asta_8: "Black Asta Type 8",
        black_asta_8_desc: "Premium black coffee capsules - Light intensity",
        black_asta_9: "Black Asta Type 9",
        black_asta_9_desc: "Premium black coffee capsules - Medium intensity",
        black_asta_10: "Black Asta Type 10",
        black_asta_10_desc: "Premium black coffee capsules - Strong intensity",
        black_asta_11: "Black Asta Type 11",
        black_asta_11_desc: "Premium black coffee capsules - Extra strong",
        black_asta_12: "Black Asta Type 12",
        black_asta_12_desc: "Premium black coffee capsules - Maximum intensity",

        // Hero Section
        hero_title: "Premium Quality Coffee",
        hero_subtitle: "Experience the perfect blend of tradition and innovation with our carefully selected coffee beans",
        hero_shop_now: "Shop Now",
        hero_learn_more: "Learn More",
        
        // Products Section
        products_title: "Our Coffee Selection",
        products_subtitle: "Discover our premium coffee varieties from around the world",
        product_indonesian: "Indonesian Coffee",
        product_indonesian_desc: "Rich and earthy Indonesian coffee beans with distinctive full-bodied flavor",
        product_guinean: "Guinean Coffee",
        product_guinean_desc: "Premium Guinean coffee with bright acidity and complex fruity notes",
        product_brazilian: "Brazilian Coffee",
        product_brazilian_desc: "Smooth and nutty Brazilian coffee with low acidity and chocolate notes",
        product_colombian: "Colombian Coffee",
        product_colombian_desc: "Premium Colombian coffee with balanced flavor and caramel sweetness",
        popular_badge: "Popular",
        new_arrival: "New Arrival",
        best_seller: "Best Seller",
        medium_roast: "Medium Roast",
        light_roast: "Light Roast",
        medium_dark_roast: "Medium-Dark Roast",
        add_to_cart: "Add to Cart",
        
        // About Section
        about_title: "Our Story",
        about_p1: "Founded with passion for exceptional coffee, we bring you the finest coffee varieties from around the world.",
        about_p2: "We source our beans directly from sustainable farms, ensuring fair trade practices and the highest quality standards. Our master roasters carefully craft each batch to perfection.",
        stat_countries: "Countries Served",
        stat_customers: "Happy Customers",
        stat_organic: "Organic Certified",
        
        // Features Section
        features_title: "Why Choose Our Coffee",
        feature_sustainable: "Sustainable Sourcing",
        feature_sustainable_desc: "Direct trade relationships with farmers ensuring fair wages and environmental responsibility",
        feature_roasting: "Artisan Roasting",
        feature_roasting_desc: "Small-batch roasting techniques that bring out the unique characteristics of each bean",
        feature_delivery: "Fast Delivery",
        feature_delivery_desc: "Fresh roasted coffee delivered to your door within 48 hours of roasting",
        feature_packaging: "Eco-Friendly Packaging",
        feature_packaging_desc: "100% recyclable and compostable packaging to protect both your coffee and the planet",
        
        // Contact Section
        contact_title: "Get In Touch",
        contact_subtitle: "Have questions? We'd love to hear from you",
        contact_address: "Address",
        contact_phone: "Phone",
        contact_email: "Email",
        contact_hours: "Opening Hours",
        hours_text: "Mon-Fri: 8AM-6PM<br>Sat-Sun: 9AM-5PM",
        send_message: "Send Message",
        
        // Footer
        footer_about: "Premium coffee sourced sustainably and roasted to perfection for the ultimate coffee experience.",
        footer_products: "Products",
        footer_indonesian: "Indonesian Coffee",
        footer_guinean: "Guinean Coffee",
        footer_brazilian: "Brazilian Coffee",
        footer_colombian: "Colombian Coffee",
        footer_company: "Company",
        footer_about_us: "About Us",
        footer_sustainability: "Sustainability",
        footer_careers: "Careers",
        footer_press: "Press",
        footer_support: "Support",
        footer_shipping: "Shipping Info",
        footer_returns: "Returns",
        footer_faq: "FAQ",
        footer_contact: "Contact Us",
        footer_rights: "All rights reserved.",
        
        // QR Code & Deployment
        show_qr: "Show QR Code",
        scan_qr_title: "Scan to Visit Our Website",
        scan_qr_subtitle: "Point your phone camera at this QR code to access our online store",
        download_qr: "Download QR Code",
        share_qr: "Share QR Code",
        link_copied: "Link copied to clipboard!",
        deployment_title: "Go Live!",
        deployment_step1: "Upload files to GitHub",
        deployment_step2: "Enable GitHub Pages",
        deployment_step3: "Get your public URL",
        deployment_step4: "Share with customers",
        create_repo: "Create Repository",
        
        // Gallery
        gallery_title: "Our Coffee Gallery",
        gallery_subtitle: "Beautiful moments from our coffee journey",
        gallery_item1: "Premium Coffee Beans",
        gallery_desc1: "Hand-selected from the finest farms",
        gallery_item2: "Artisan Roasting",
        gallery_desc2: "Crafted to perfection",
        gallery_item3: "Perfect Brew",
        gallery_desc3: "Freshly prepared for you",
        gallery_item4: "Our Coffee Shop",
        gallery_desc4: "Welcome to Arena Coffee"
    },
    
    fr: {
        // Navigation
        nav_home: "Accueil",
        nav_products: "Produits",
        nav_boutique: "Boutique",
        nav_gallery: "Galerie",
        nav_about: "À propos",
        nav_testimonials: "Avis",
        nav_contact: "Contact",
        
        // Boutique Products - Reorganized Pricing
        boutique_title: "Collection Boutique",
        boutique_subtitle: "Produits spécialisés et thés premium",
        
        // Tea Products (30-40 MAD)
        tea_naca_a: "شاي الناقة Type A",
        tea_naca_a_desc: "Traditional Moroccan camel tea - Basic blend",
        tea_naca_b: "شاي الناقة Type B", 
        tea_naca_b_desc: "Traditional Moroccan camel tea - Premium blend",
        tea_lakram_classic: "شاي لكرم Classic",
        tea_lakram_classic_desc: "Lakram tea classic blend with aromatic spices",
        tea_lakram_premium: "شاي لكرم Premium",
        tea_lakram_premium_desc: "Lakram tea premium blend with exotic ingredients",
        
        // Black Asta Capsules (40-50 MAD)
        black_asta_8: "Black Asta Type 8",
        black_asta_8_desc: "Premium black coffee capsules - Light intensity",
        black_asta_9: "Black Asta Type 9",
        black_asta_9_desc: "Premium black coffee capsules - Medium intensity",
        black_asta_10: "Black Asta Type 10",
        black_asta_10_desc: "Premium black coffee capsules - Strong intensity",
        black_asta_11: "Black Asta Type 11",
        black_asta_11_desc: "Premium black coffee capsules - Extra strong",
        black_asta_12: "Black Asta Type 12",
        black_asta_12_desc: "Premium black coffee capsules - Maximum intensity",

        // Hero Section
        hero_title: "Café de Qualité Supérieure",
        hero_subtitle: "Découvrez le mélange parfait entre tradition et innovation avec nos grains de café soigneusement sélectionnés",
        hero_shop_now: "Acheter maintenant",
        hero_learn_more: "En savoir plus",
        
        // Products Section
        products_title: "Notre Sélection de Café",
        products_subtitle: "Découvrez nos variétés de café premium du monde entier",
        product_indonesian: "Café Indonésien",
        product_indonesian_desc: "Grains de café indonésiens riches et terreux avec une saveur corpulente distinctive",
        product_guinean: "Café Guinéen",
        product_guinean_desc: "Café guinéen premium avec une acidité vive et des notes fruitées complexes",
        product_brazilian: "Café Brésilien",
        product_brazilian_desc: "Café brésilien lisse et fruité avec une faible acidité et des notes chocolatées",
        product_colombian: "Café Colombien",
        product_colombian_desc: "Café colombien premium avec un goût équilibré et une douceur caramélisée",
        popular_badge: "Populaire",
        new_arrival: "Nouvelle Arrivée",
        best_seller: "Meilleure Vente",
        medium_roast: "Torréfaction Moyenne",
        light_roast: "Torréfaction Légère",
        medium_dark_roast: "Torréfaction Moyenne-Foncé",
        add_to_cart: "Ajouter au panier",
        
        // About Section
        about_title: "Notre Histoire",
        about_p1: "Fondée avec passion pour un café exceptionnel, nous vous apportons les meilleures variétés de café du monde entier.",
        about_p2: "Nous approvisionnons nos grains directement auprès de fermes durables, garantissant des pratiques commerciales équitables et les normes de qualité les plus élevées. Nos maîtres torréfacteurs confectionnent soigneusement chaque lot à la perfection.",
        stat_countries: "Pays Desservis",
        stat_customers: "Clients Satisfaits",
        stat_organic: "Certifié Biologique",
        
        // Features Section
        features_title: "Pourquoi Choisir Notre Café",
        feature_sustainable: "Approvisionnement Durable",
        feature_sustainable_desc: "Relations commerciales directes avec les agriculteurs assurant des salaires équitables et une responsabilité environnementale",
        feature_roasting: "Torréfaction Artisanale",
        feature_roasting_desc: "Techniques de torréfaction en petits lots qui mettent en valeur les caractéristiques uniques de chaque grain",
        feature_delivery: "Livraison Rapide",
        feature_delivery_desc: "Café fraîchement torréfié livré chez vous dans les 48 heures suivant la torréfaction",
        feature_packaging: "Emballage Écologique",
        feature_packaging_desc: "Emballage 100% recyclable et compostable pour protéger votre café et la planète",
        
        // Contact Section
        contact_title: "Contactez-nous",
        contact_subtitle: "Vous avez des questions ? Nous aimerions avoir de vos nouvelles",
        contact_address: "Adresse",
        contact_phone: "Téléphone",
        contact_email: "Email",
        contact_hours: "Heures d'Ouverture",
        hours_text: "Lun-Ven: 8H-18H<br>Sam-Dim: 9H-17H",
        send_message: "Envoyer le message",
        
        // Footer
        footer_about: "Café premium approvisionné de manière durable et torréfié à la perfection pour une expérience ultime.",
        footer_products: "Produits",
        footer_indonesian: "Café Indonésien",
        footer_guinean: "Café Guinéen",
        footer_brazilian: "Café Brésilien",
        footer_colombian: "Café Colombien",
        footer_company: "Entreprise",
        footer_about_us: "À propos de nous",
        footer_sustainability: "Durabilité",
        footer_careers: "Carrières",
        footer_press: "Presse",
        footer_support: "Support",
        footer_shipping: "Informations de livraison",
        footer_returns: "Retours",
        footer_faq: "FAQ",
        footer_contact: "Nous contacter",
        footer_rights: "Tous droits réservés.",
        
        // QR Code & Deployment
        show_qr: "Afficher le QR Code",
        scan_qr_title: "Scannez pour visiter notre site web",
        scan_qr_subtitle: "Pointez l'appareil photo de votre téléphone sur ce code QR pour accéder à notre boutique en ligne",
        download_qr: "Télécharger le QR Code",
        share_qr: "Partager le QR Code",
        link_copied: "Lien copié dans le presse-papiers !",
        deployment_title: "Mettre en ligne !",
        deployment_step1: "Télécharger les fichiers sur GitHub",
        deployment_step2: "Activer GitHub Pages",
        deployment_step3: "Obtenir votre URL publique",
        deployment_step4: "Partager avec les clients",
        create_repo: "Créer un dépôt"
    },
    
    ar: {
        // Navigation
        nav_home: "الرئيسية",
        nav_products: "المنتجات",
        nav_boutique: "المتجر الخاص",
        nav_gallery: "المعرض",
        nav_about: "عنّا",
        nav_testimonials: "التقييمات",
        nav_contact: "اتصل بنا",
        
        // Boutique Products - Reorganized Pricing
        boutique_title: "مجموعة المتجر الخاص",
        boutique_subtitle: "منتجات متخصصة و teas فاخرة",
        
        // Tea Products (30-40 MAD)
        tea_naca_a: "شاي الناقة Type A",
        tea_naca_a_desc: "شاي ناقة تقليدي مغربي مع بهارات أصيلة",
        tea_naca_b: "شاي الناقة Type B", 
        tea_naca_b_desc: "شاي ناقة تقليدي مغربي مع بهارات فاخرة",
        tea_lakram_classic: "شاي لكرم Classic",
        tea_lakram_classic_desc: "مزيج شاي لكرم مع بهارات رائحة",
        tea_lakram_premium: "شاي لكرم Premium",
        tea_lakram_premium_desc: "مزيج شاي لكرم مع مكونات غريبة",

        // Black Asta Capsules (40-50 MAD)
        black_asta_8: "Black Asta Type 8",
        black_asta_8_desc: "كبسولات قهوة نوار مكثفة بملف نكهة غني",
        black_asta_9: "Black Asta Type 9",
        black_asta_9_desc: "كبسولات قهوة نوار مكثفة بملف نكهة غني",
        black_asta_10: "Black Asta Type 10",
        black_asta_10_desc: "كبسولات قهوة نوار مكثفة بملف نكهة غني",
        black_asta_11: "Black Asta Type 11",
        black_asta_11_desc: "كبسولات قهوة نوار مكثفة بملف نكهة غني",
        black_asta_12: "Black Asta Type 12",
        black_asta_12_desc: "كبسولات قهوة نوار مكثفة بملف نكهة غني",

        // Hero Section
        hero_title: "قهوة عالية الجودة",
        hero_subtitle: "استمتع بالمزيج المثالي بين التراث والابتكار مع حبوب القهوة المختارة بعناية",
        hero_shop_now: "تسوق الآن",
        hero_learn_more: "اعرف المزيد",
        
        // Products Section
        products_title: "مجموعة قهوتنا",
        products_subtitle: "اكتشف مجموعتنا المتميزة من أنواع القهوة من جميع أنحاء العالم",
        product_indonesian: "قهوة إندونيسية",
        product_indonesian_desc: "حبوب قهوة إندونيسية غنية وأرضية بنكهة كاملة مميزة",
        product_guinean: "قهوة غينية",
        product_guinean_desc: "قهوة غينية فاخرة بحمضية واضحة وملاحظات فاكهية معقدة",
        product_brazilian: "قهوة برازيلية",
        product_brazilian_desc: "قهوة برازيلية ناعمة ومقرمشة بحمضية منخفضة وملاحظات شوكولاتة",
        product_colombian: "قهوة كولومبية",
        product_colombian_desc: "قهوة كولومبية فاخرة بطعام متوازن وحلو caramel",
        popular_badge: "شائع",
        new_arrival: "وصول جديد",
        best_seller: "الأكثر مبيعًا",
        medium_roast: "تحميص متوسط",
        light_roast: "تحميص خفيف",
        medium_dark_roast: "تحميص متوسط-داكن",
        add_to_cart: "أضف إلى السلة",
        
        // About Section
        about_title: "قصتنا",
        about_p1: "تأسست بشغف للحصول على قهوة استثنائية، نقدم لك أفضل أنواع القهوة من جميع أنحاء العالم.",
        about_p2: "نحن نحصل على حبوبنا مباشرة من المزارع المستدامة، مما يضمن ممارسات التجارة العادلة وأعلى معايير الجودة. يقوم خبراء التحميص لدينا بصياغة كل دفعة بعناية لتحقيق الكمال.",
        stat_countries: "الدول المخدومة",
        stat_customers: "عملاء سعداء",
        stat_organic: "معتمد عضويًا",
        
        // Features Section
        features_title: "لماذا تختار قهوتنا",
        feature_sustainable: "الاست sourcing المستدام",
        feature_sustainable_desc: "علاقات تجارية مباشرة مع المزارعين تضمن أجورًا عادلة ومسؤولية بيئية",
        feature_roasting: "التحميص الحرفي",
        feature_roasting_desc: "تقنيات التحميص بالدفعات الصغيرة التي تبرز الخصائص الفريدة لكل حبة",
        feature_delivery: "توصيل سريع",
        feature_delivery_desc: "قهوة مطحونة طازجة تُسلَّم إلى باب منزلك خلال 48 ساعة من التحميص",
        feature_packaging: "تعبئة صديقة للبيئة",
        feature_packaging_desc: "تعبئة 100% قابلة لإعادة التدوير والتحلل لحماية قهوتك والكوكب",
        
        // Contact Section
        contact_title: "تواصل معنا",
        contact_subtitle: "هل لديك أسئلة؟ نود أن نسمع منك",
        contact_address: "العنوان",
        contact_phone: "الهاتف",
        contact_email: "البريد الإلكتروني",
        contact_hours: "ساعات العمل",
        hours_text: "الاثنين-الجمعة: 8ص-6م<br>السبت-الأحد: 9ص-5م",
        send_message: "إرسال الرسالة",
        
        // Footer
        footer_about: "قهوة فاخرة تم الحصول عليها بشكل مستدام وتم تحميصها إلى حد الكمال لتجربة قهوة نهائية.",
        footer_products: "المنتجات",
        footer_indonesian: "قهوة إندونيسية",
        footer_guinean: "قهوة غينية",
        footer_brazilian: "قهوة برازيلية",
        footer_colombian: "قهوة كولومبية",
        footer_company: "الشركة",
        footer_about_us: "معلومات عنا",
        footer_sustainability: "الاستدامة",
        footer_careers: "الوظائف",
        footer_press: "الصحافة",
        footer_support: "الدعم",
        footer_shipping: "معلومات الشحن",
        footer_returns: "الإرجاع",
        footer_faq: "الأسئلة الشائعة",
        footer_contact: "اتصل بنا",
        footer_rights: "جميع الحقوق محفوظة.",
        
        // QR Code & Deployment
        show_qr: "عرض رمز الاستجابة السريعة",
        scan_qr_title: "امسح لزيارة موقعنا الإلكتروني",
        scan_qr_subtitle: "وجّه كاميرا هاتفك نحو هذا الرمز للوصول إلى متجرنا الإلكتروني",
        download_qr: "تحميل رمز الاستجابة السريعة",
        share_qr: "مشاركة رمز الاستجابة السريعة",
        link_copied: "تم نسخ الرابط إلى الحافظة!",
        deployment_title: "انطلق مباشرة!",
        deployment_step1: "رفع الملفات إلى GitHub",
        deployment_step2: "تفعيل صفحات GitHub",
        deployment_step3: "الحصول على عنوان URL العام",
        deployment_step4: "المشاركة مع العملاء",
        create_repo: "إنشاء مستودع"
    }
};

// ===== LANGUAGE MANAGEMENT =====
let currentLang = localStorage.getItem('language') || 'en';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    
    // Update all translatable elements
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });
    
    // Update language button text
    document.querySelector('#lang-toggle span').textContent = lang.toUpperCase();
    
    // Set document direction for Arabic
    if (lang === 'ar') {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.setAttribute('lang', 'ar');
    } else {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.setAttribute('lang', lang);
    }
    
    // Update navigation active state
    updateActiveNav();
}

// ===== NAVIGATION FUNCTIONALITY =====
function updateActiveNav() {
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-links a');
    
    let currentSection = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        const sectionHeight = section.offsetHeight;
        if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
            currentSection = section.getAttribute('id');
        }
    });
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${currentSection}`) {
            link.classList.add('active');
        }
    });
}

// ===== SMOOTH SCROLLING =====
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            window.scrollTo({
                top: target.offsetTop - 80,
                behavior: 'smooth'
            });
        }
    });
});

// ===== MOBILE MENU =====
const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
const navLinks = document.querySelector('.nav-links');

if (mobileMenuBtn) {
    mobileMenuBtn.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        mobileMenuBtn.querySelector('i').classList.toggle('fa-bars');
        mobileMenuBtn.querySelector('i').classList.toggle('fa-times');
    });
}

// ===== LANGUAGE SELECTOR =====
const langToggle = document.getElementById('lang-toggle');
const langDropdown = document.querySelector('.lang-dropdown');

langToggle.addEventListener('click', (e) => {
    e.stopPropagation();
    langDropdown.classList.toggle('show');
});

document.querySelectorAll('.lang-option').forEach(option => {
    option.addEventListener('click', (e) => {
        e.stopPropagation();
        const lang = option.getAttribute('data-lang');
        setLanguage(lang);
        langDropdown.classList.remove('show');
    });
});

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
    if (!langToggle.contains(e.target)) {
        langDropdown.classList.remove('show');
    }
});

// ===== FORM HANDLING =====
const contactForm = document.querySelector('.contact-form');
if (contactForm) {
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Get form data
        const formData = new FormData(contactForm);
        const name = contactForm.querySelector('input[type="text"]').value;
        const email = contactForm.querySelector('input[type="email"]').value;
        const subject = contactForm.querySelectorAll('input[type="text"]')[1].value;
        const message = contactForm.querySelector('textarea').value;
        
        // Simple validation
        if (!name || !email || !subject || !message) {
            alert(translations[currentLang].fill_all_fields || 'Please fill in all fields');
            return;
        }
        
        // Simulate form submission
        const submitBtn = contactForm.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        
        submitBtn.textContent = translations[currentLang].sending || 'Sending...';
        submitBtn.disabled = true;
        
        setTimeout(() => {
            alert(translations[currentLang].message_sent || 'Thank you for your message! We will get back to you soon.');
            contactForm.reset();
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
        }, 1500);
    });
}

// ===== PRODUCT CARD INTERACTIONS =====
document.querySelectorAll('.product-card .btn').forEach(button => {
    button.addEventListener('click', function() {
        const productCard = this.closest('.product-card');
        const productName = productCard.querySelector('h3').textContent;
        
        // Add to cart animation
        this.textContent = translations[currentLang].added || 'Added!';
        this.style.backgroundColor = '#4CAF50';
        
        setTimeout(() => {
            this.textContent = translations[currentLang].add_to_cart || 'Add to Cart';
            this.style.backgroundColor = '';
        }, 2000);
        
        // Show notification
        showNotification(`${productName} ${translations[currentLang].added_to_cart || 'added to cart'}!`);
    });
});

// ===== NOTIFICATION SYSTEM =====
function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'notification';
    notification.textContent = message;
    notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: #4CAF50;
        color: white;
        padding: 15px 25px;
        border-radius: 5px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        transform: translateX(120%);
        transition: transform 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    // Slide in
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.transform = 'translateX(120%)';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 3000);
}

// ===== SCROLL EFFECTS =====
window.addEventListener('scroll', () => {
    // Header shadow effect
    const header = document.querySelector('.header');
    if (window.scrollY > 50) {
        header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';
    } else {
        header.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
    }
    
    // Update active navigation
    updateActiveNav();
    
    // Parallax effect for hero section
    const hero = document.querySelector('.hero');
    if (hero) {
        const scrollPosition = window.scrollY;
        hero.style.backgroundPositionY = `${scrollPosition * 0.5}px`;
    }
});

// ===== PHONE NUMBER FUNCTIONALITY =====
function updatePhoneNumber(newNumber) {
    const phoneElement = document.getElementById('phone-number');
    if (phoneElement) {
        phoneElement.textContent = newNumber;
        localStorage.setItem('arena-coffee-phone', newNumber);
    }
}

// Load saved phone number on page load
document.addEventListener('DOMContentLoaded', () => {
    const savedPhone = localStorage.getItem('arena-coffee-phone');
    if (savedPhone && savedPhone !== '[Numéro de téléphone]') {
        updatePhoneNumber(savedPhone);
    }
    
    // Add phone number input functionality
    const phoneElement = document.getElementById('phone-number');
    if (phoneElement) {
        phoneElement.addEventListener('click', function() {
            const currentNumber = this.textContent;
            const newNumber = prompt('Enter phone number:', currentNumber);
            if (newNumber && newNumber !== currentNumber) {
                updatePhoneNumber(newNumber);
            }
        });
        
        // Add hover effect to indicate it's clickable
        phoneElement.style.cursor = 'pointer';
        phoneElement.title = 'Click to edit phone number';
    }
    
    // Set initial language
    setLanguage(currentLang);
    
    // Add scroll animation to elements
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe animated elements
    document.querySelectorAll('.product-card, .feature-card, .stat-item').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
    
    // Initialize active navigation
    updateActiveNav();
});

// ===== QR CODE FUNCTIONALITY =====
document.addEventListener('DOMContentLoaded', function() {
    const qrButton = document.getElementById('qr-button');
    const qrModal = document.getElementById('qr-modal');
    const closeQr = document.querySelector('.close-qr');
    const downloadBtn = document.getElementById('download-qr');
    const shareBtn = document.getElementById('share-qr');
    
    // Show QR modal
    if (qrButton) {
        qrButton.addEventListener('click', function() {
            qrModal.style.display = 'block';
            generateQRCode();
        });
    }
    
    // Close QR modal
    if (closeQr) {
        closeQr.addEventListener('click', function() {
            qrModal.style.display = 'none';
        });
    }
    
    // Close when clicking outside
    window.addEventListener('click', function(event) {
        if (event.target === qrModal) {
            qrModal.style.display = 'none';
        }
    });
    
    // Download QR code
    if (downloadBtn) {
        downloadBtn.addEventListener('click', function() {
            const canvas = document.querySelector('#qr-code canvas');
            if (canvas) {
                const link = document.createElement('a');
                link.download = 'arena-coffee-qr.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            }
        });
    }
    
    // Share QR code
    if (shareBtn) {
        shareBtn.addEventListener('click', async function() {
            try {
                const canvas = document.querySelector('#qr-code canvas');
                if (canvas && navigator.share) {
                    canvas.toBlob(async function(blob) {
                        const file = new File([blob], 'arena-coffee-qr.png', { type: 'image/png' });
                        await navigator.share({
                            title: 'Arena Coffee',
                            text: 'Visit our coffee shop website!',
                            files: [file]
                        });
                    });
                } else {
                    // Fallback: copy link to clipboard
                    const url = window.location.href;
                    await navigator.clipboard.writeText(url);
                    showNotification(translations[currentLang].link_copied || 'Link copied to clipboard!');
                }
            } catch (err) {
                console.log('Share failed:', err);
            }
        });
    }
});

function generateQRCode() {
    const qrContainer = document.getElementById('qr-code');
    if (!qrContainer) return;
    
    // Clear previous QR code
    qrContainer.innerHTML = '';
    
    // Get current page URL or use a placeholder
    const url = window.location.href.includes('localhost') 
        ? 'https://your-domain.com' // Replace with your actual domain after deployment
        : window.location.href;
    
    // Create QR code using a simple approach
    const qrSize = 200;
    const canvas = document.createElement('canvas');
    canvas.width = qrSize;
    canvas.height = qrSize;
    const ctx = canvas.getContext('2d');
    
    // Simple QR-like pattern (in a real implementation, you'd use a QR library)
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, qrSize, qrSize);
    ctx.fillStyle = '#000000';
    
    // Create a simple pattern that resembles a QR code
    const blockSize = 8;
    for (let x = 0; x < qrSize; x += blockSize) {
        for (let y = 0; y < qrSize; y += blockSize) {
            if (Math.random() > 0.5) {
                ctx.fillRect(x, y, blockSize, blockSize);
            }
        }
    }
    
    // Add positioning markers
    ctx.fillStyle = '#000000';
    // Top-left marker
    ctx.fillRect(0, 0, blockSize * 7, blockSize);
    ctx.fillRect(0, 0, blockSize, blockSize * 7);
    ctx.fillRect(blockSize * 6, 0, blockSize, blockSize * 7);
    ctx.fillRect(0, blockSize * 6, blockSize * 7, blockSize);
    
    // Top-right marker
    ctx.fillRect(qrSize - blockSize * 7, 0, blockSize * 7, blockSize);
    ctx.fillRect(qrSize - blockSize, 0, blockSize, blockSize * 7);
    ctx.fillRect(qrSize - blockSize * 7, 0, blockSize, blockSize * 7);
    ctx.fillRect(qrSize - blockSize * 7, blockSize * 6, blockSize * 7, blockSize);
    
    // Bottom-left marker
    ctx.fillRect(0, qrSize - blockSize * 7, blockSize * 7, blockSize);
    ctx.fillRect(0, qrSize - blockSize, blockSize, blockSize * 7);
    ctx.fillRect(blockSize * 6, qrSize - blockSize, blockSize, blockSize * 7);
    ctx.fillRect(0, qrSize - blockSize, blockSize * 7, blockSize);
    
    qrContainer.appendChild(canvas);
}

// ===== DEPLOYMENT HELP =====
function showDeploymentInfo() {
    const infoBox = document.createElement('div');
    infoBox.className = 'deployment-info';
    infoBox.innerHTML = `
        <button class="deployment-close">&times;</button>
        <h4>${translations[currentLang].deployment_title || 'Go Live!'}</h4>
        <ul>
            <li><i class="fas fa-check"></i> ${translations[currentLang].deployment_step1 || 'Upload files to GitHub'}</li>
            <li><i class="fas fa-check"></i> ${translations[currentLang].deployment_step2 || 'Enable GitHub Pages'}</li>
            <li><i class="fas fa-check"></i> ${translations[currentLang].deployment_step3 || 'Get your public URL'}</li>
            <li><i class="fas fa-check"></i> ${translations[currentLang].deployment_step4 || 'Share with customers'}</li>
        </ul>
        <button class="btn btn-primary" onclick="window.open('https://github.com/new', '_blank')" style="margin-top: 15px; width: 100%;">
            ${translations[currentLang].create_repo || 'Create Repository'}
        </button>
    `;
    
    document.body.appendChild(infoBox);
    infoBox.style.display = 'block';
    
    // Close button functionality
    infoBox.querySelector('.deployment-close').addEventListener('click', function() {
        infoBox.style.display = 'none';
    });
}

// Add deployment button
setTimeout(() => {
    const deployBtn = document.createElement('button');
    deployBtn.className = 'qr-button';
    deployBtn.style.bottom = '120px';
    deployBtn.style.right = '30px';
    deployBtn.style.background = '#4CAF50';
    deployBtn.innerHTML = '<i class="fas fa-rocket"></i><span>Go Live</span>';
    deployBtn.addEventListener('click', showDeploymentInfo);
    document.body.appendChild(deployBtn);
}, 3000);
// Sticky header behavior
let lastScrollTop = 0;
window.addEventListener('scroll', () => {
    const header = document.querySelector('.header');
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    if (scrollTop > lastScrollTop && scrollTop > 100) {
        // Scrolling down
        header.style.transform = 'translateY(-100%)';
    } else {
        // Scrolling up
        header.style.transform = 'translateY(0)';
    }
    
    lastScrollTop = scrollTop;
});